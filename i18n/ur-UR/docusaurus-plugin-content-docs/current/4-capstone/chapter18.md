---
id: chapter18
title: Module-4.capstone-chapter-18
sidebar_position: 2
slug: /capstone/chapter18
---

# باب 18: سسٹم فن تعمیر اور ROS2 انضمام

ایک خود مختار ہیومنائڈ روبوٹ سسٹم کی تعمیر، حتیٰ کہ سمولیشن میں بھی، ایک اچھی طرح سے متعین اور ماڈیولر فن تعمیر کا تقاضا کرتی ہے۔ ROS2 (روبوٹ آپریٹنگ سسٹم 2) اس کے لیے مثالی مڈل ویئر ہے، جو بین پراسیس کمیونیکیشن، ہارڈویئر ایبسٹریکشن، اور مختلف سافٹ ویئر اجزاء کے انتظام کے لیے فریم ورک فراہم کرتا ہے۔ یہ باب ہمارے کیپ اسٹون پروجیکٹ کے لیے مجموعی سسٹم فن تعمیر کا خاکہ پیش کرے گا اور تفصیل سے بتائے گا کہ ROS2 مختلف ماڈیولز کو کیسے مربوط کرے گا۔

## مجموعی سسٹم فن تعمیر

ہمارا خود مختار ہیومنائڈ روبوٹ سسٹم ایک تہہ دار اور ماڈیولر فن تعمیر کی پیروی کرے گا، جو آزادانہ ترقی اور انفرادی اجزاء کی آسان ڈیبگنگ کی اجازت دے گا۔ بنیادی اجزاء میں شامل ہیں:

1.  **روبوٹ ہارڈویئر (نقلی)**: Gazebo یا Isaac Sim میں ورچوئل ہیومنائڈ روبوٹ ماڈل، جو مختلف سینسرز (RGB-D کیمرہ، IMU، جوائنٹ انکوڈرز) اور ایکچیوٹرز (جوائنٹ موٹرز، گریپرز) سے لیس ہے۔
2.  **کم سطحی کنٹرول**: نقلی روبوٹ کے جوائنٹس اور سینسرز کے ساتھ براہ راست انٹرفیس، جو عام طور پر `ros2_control` کے ذریعے Gazebo/Isaac Sim پلگ انز کے ساتھ مل کر منظم کیا جاتا ہے۔
3.  **پرسیپشن ماڈیول**: خام سینسر ڈیٹا کو پروسیس کرتا ہے تاکہ ماحول کے بارے میں بامعنی معلومات نکال سکے۔ یہ NVIDIA Isaac ROS کو تیز رفتار AI سے چلنے والی پرسیپشن (آبجیکٹ کی شناخت، سیگمنٹیشن، پوز کا تخمینہ) کے لیے استعمال کرے گا۔
4.  **اسٹیٹ ایسٹیمیشن اور میپنگ**: ماحول کے اندر روبوٹ کی لوکلائزیشن اور نقشہ بنانے/برقرار رکھنے کا ذمہ دار ہے۔ اس میں بصری اوڈومیٹری، SLAM (Simultaneous Localization and Mapping)، یا کیپ اسٹون کے لیے ایک آسان لوکلائزیشن طریقہ شامل ہو سکتا ہے۔
5.  **نیویگیشن ماڈیول**: روبوٹ کے لیے عالمی اور مقامی راستوں کی منصوبہ بندی کرتا ہے، اسے رکاوٹوں سے بچتے ہوئے ایک نقطہ سے دوسرے نقطہ تک حرکت کرنے کے قابل بناتا ہے۔
6.  **مینپولیشن ماڈیول**: اشیاء کو پکڑنے اور رکھنے سے متعلق کاموں کو سنبھالتا ہے۔ اس میں انورس کینیمیٹکس، بازو کے لیے موشن پلاننگ، اور گریپر کنٹرول شامل ہیں۔
7.  **اعلیٰ سطحی استدلال اور ٹاسک پلاننگ (VLA)**: سسٹم کا "دماغ"، جو قدرتی زبان کے کمانڈز کی تشریح، پیچیدہ کاموں کو آسان ذیلی اہداف میں تقسیم کرنے، اور دوسرے ماڈیولز کو مربوط کرنے کا ذمہ دار ہے۔
8.  **ہیومن-روبوٹ انٹرفیس (HRI)**: صارف کو روبوٹ کے ساتھ تعامل کرنے، کمانڈ دینے اور فیڈ بیک حاصل کرنے کا ایک طریقہ فراہم کرتا ہے (مثلاً، ایک ویب انٹرفیس، ٹیکسٹ کمانڈز کے ذریعے)۔

```mermaid
graph TD
    A[صارف کے کمانڈز (قدرتی زبان)] --> B(انسانی-روبوٹ انٹرفیس)
    B --> C(اعلیٰ سطحی استدلال اور ٹاسک پلاننگ (VLA))

    C --> D{پرسیپشن ماڈیول}
    C --> E{نیویگیشن ماڈیول}
    C --> F{مینپولیشن ماڈیول}

    D --> G(سینسر ڈیٹا)
    G --> H[روبوٹ ہارڈویئر (نقلی)]
    E --> H
    F --> H

    H --> I(کم سطحی کنٹرول)
    I --> J(اسٹیٹ ایسٹیمیشن اور میپنگ)

    J --> D
    J --> E
    J --> F

    D --> C
    E --> C
    F --> C
```

## ROS2 انضمام کی حکمت عملی

ROS2 مواصلاتی ریڑھ کی ہڈی کے طور پر کام کرے گا، جس سے یہ تمام ماڈیولز بغیر کسی رکاوٹ کے تعامل کر سکیں گے۔ ہر ماڈیول عام طور پر ROS2 ٹاپکس، سروسز، اور ایکشنز کے امتزاج کے ذریعے اپنی فعالیت کو ظاہر کرے گا۔

*   **ٹاپکس**: ڈیٹا کے مسلسل سٹریمز کے لیے استعمال ہوتے ہیں (مثلاً، کیمرہ امیجز، LiDAR اسکینز، جوائنٹ سٹیٹس، اوڈومیٹری، آبجیکٹ ڈیٹیکشنز)۔
    *   کیمرہ ڈیٹا کے لیے `sensor_msgs/msg/Image`۔
    *   ڈیپتھ ڈیٹا کے لیے `sensor_msgs/msg/PointCloud2`۔
    *   رفتار کے کمانڈز کے لیے `geometry_msgs/msg/Twist`۔
    *   شناخت شدہ اشیاء کے لیے `my_robot_pkg/msg/ObjectDetectionArray` (کسٹم میسج)۔
    *   روبوٹ پوز کے لیے `nav_msgs/msg/Odometry`۔

*   **سروسز**: درخواست/جوابی تعاملات کے لیے استعمال ہوتے ہیں (مثلاً، کسی چیز کے پوز کے لیے استفسار کرنا، روبوٹ کی پوزیشن کو دوبارہ ترتیب دینا)۔
    *   ایک مخصوص چیز کا 3D پوز حاصل کرنے کے لیے `my_robot_pkg/srv/GetObjectPose` (کسٹم سروس)۔
    *   سمولیشن کو دوبارہ ترتیب دینے کے لیے `my_robot_pkg/srv/ResetRobot`۔

*   **ایکشنز**: طویل عرصے تک چلنے والے، روکنے کے قابل کاموں کے لیے فیڈ بیک کے ساتھ استعمال ہوتے ہیں (مثلاً، ایک مقصد تک نیویگیٹ کرنا، ایک پیچیدہ مینپولیشن ترتیب کو انجام دینا)۔
    *   خود مختار نیویگیشن کے لیے `nav2_msgs/action/NavigateToPose`۔
    *   پک اینڈ پلیس کے لیے `my_robot_pkg/action/GraspObject` (کسٹم ایکشن)۔

### اہم ROS2 پیکجز اور نوڈز

*   **`robot_state_publisher`**: روبوٹ کے URDF کو `/robot_description` پر شائع کرتا ہے، جس سے دوسرے نوڈز کو روبوٹ کی ساخت معلوم ہوتی ہے۔
*   **`joint_state_broadcaster`**: روبوٹ کے جوائنٹس کی موجودہ حالت کو شائع کرتا ہے۔
*   **`controller_manager`**: مختلف `ros2_control` کنٹرولرز (مثلاً، جوائنٹ ٹراجیکٹری کنٹرولرز، ڈیفرینشل ڈرائیو کنٹرولرز) کو منظم اور تیار کرتا ہے۔
*   **`tf2`**: کوآرڈینیٹ ٹرانسفارمیشنز کا انتظام کرتا ہے (مثلاً، `base_link` سے `camera_link`)۔
*   **`rviz2`**: ROS2 کے لیے بنیادی ویژولائزیشن ٹول، جو روبوٹ کی حالت، سینسر ڈیٹا، اور منصوبہ بندی کے آؤٹ پٹ کو مانیٹر کرنے کے لیے استعمال ہوتا ہے۔
*   **`nav2`**: خود مختار موبائل روبوٹس کے لیے ایک مکمل نیویگیشن اسٹیک۔ کیپ اسٹون کے لیے، ہم ایک آسان ورژن یا مخصوص اجزاء استعمال کر سکتے ہیں۔

### مثال ROS2 گراف (تصوراتی)

```mermaid
graph LR
    camera_driver[کیمرہ ڈرائیور نوڈ] -- /camera/image_raw --> image_proc[امیج پروسیسنگ نوڈ (Isaac ROS)]
    image_proc -- /image_processed --> object_detection[آبجیکٹ ڈیٹیکشن نوڈ (Isaac ROS)]
    object_detection -- /detected_objects --> vla_planner[VLA ٹاسک پلانر نوڈ]

    vla_planner -- /cmd_vel --> diff_drive_controller[Diff Drive کنٹرولر نوڈ]
    diff_drive_controller -- /odom --> ekf_localization[EKF لوکلائزیشن نوڈ]
    ekf_localization -- /tf --> rviz2[RViz2]

    vla_planner -- /joint_trajectory_controller/joint_trajectory --> arm_controller[آرم کنٹرولر نوڈ]

    sim_env[Gazebo/Isaac Sim] -- سینسر ڈیٹا --> camera_driver
    sim_env -- جوائنٹ کمانڈز --> diff_drive_controller
    sim_env -- جوائنٹ کمانڈز --> arm_controller

    HRI[انسانی-روبوٹ انٹرفیس] --> vla_planner
```

اس باب نے ہمارے خود مختار ہیومنائڈ روبوٹ سسٹم کے لیے فن تعمیر کا بلیو پرنٹ پیش کیا ہے، جس میں ROS2 کو مربوط مڈل ویئر کے طور پر زور دیا گیا ہے۔ اس ساخت کو سمجھنا ہر جزو کو مربوط طریقے سے تیار کرنے کے لیے اہم ہے۔ اگلے باب میں، ہم نقلی ماحول اور ہیومنائڈ روبوٹ ماڈل کے سیٹ اپ میں گہرائی میں جائیں گے۔
